{
    "initializationAction": [
        "(q.npc.is_in_battle_with(q.player) || !q.npc.is_doing_activity('minecraft:idle', 'cobblemon:battling')) ? q.dialogue.close();",
        "q.npc.play_animation('wave', q.player.uuid);"
    ],
    "speakers": {
        "npc": {
            "name": {
                "type": "expression",
                "expression": "q.npc.name"
            },
            "face": "q.npc.face();"
        },
        "player": {
            "face": "q.player.face();",
            "name": {
                "type": "expression",
                "expression": "q.player.username"
            }
        }
    },
    "pages": [
        {
            "id": "ev_selection1",
            "speaker": "npc",
            "lines": ["Hello there! I specialize in training PokÃ©mon to maximize their Effort Values (EVs). Which EV-focused battle would you like to take on today?"],
            "input": {
                "type": "option",
                "vertical": true,
                "options": [
                    {
                        "text": "Â§cğŸ’–HPğŸ’–Â§r",
                        "value": "health",
                        "action": [
                            "q.player.data.evstat = 'HP'; q.player.save_data();",
                            "q.dialogue.close();",
                            "v.battle = q.npc.start_battle(q.player);"
                        ]
                    },
                    {
                        "text": "Â§câš”ATKâš”Â§r",
                        "value": "attack",
                        "action": [
                            "q.player.data.evstat = 'ATK'; q.player.save_data();",
                            "q.dialogue.close();",
                            "v.battle = q.npc.start_battle(q.player);"
                        ]
                    },
                    {
                        "text": "Â§cğŸ›¡DEFğŸ›¡Â§r",
                        "value": "defence",
                        "action": [
                            "q.player.data.evstat = 'DEF'; q.player.save_data();",
                            "q.dialogue.close();",
                            "v.battle = q.npc.start_battle(q.player);"
                        ]
                    },
                    {
                        "text": "Â§c->Â§r",
                        "value": "next",
                        "action": "q.dialogue.set_page('ev_selection2');"
                    }
                ]
            }
        },
                {
            "id": "ev_selection2",
            "speaker": "npc",
            "lines": ["Hello there! I specialize in training PokÃ©mon to maximize their Effort Values (EVs). Which EV-focused battle would you like to take on today?"],
            "input": {
                "type": "option",
                "vertical": true,
                "options": [
                    {
                        "text": "Â§câ­SPATKâ­Â§r",
                        "value": "spattack",
                        "action": [
                            "q.player.data.evstat = 'SPATK'; q.player.save_data();",
                            "q.dialogue.close();",
                            "v.battle = q.npc.start_battle(q.player);"
                        ]
                    },
                    {
                        "text": "Â§cğŸ’®SP.DEFğŸ’®Â§r",
                        "value": "spdefence",
                        "action": [
                            "q.player.data.evstat = 'SPDEF'; q.player.save_data();",
                            "q.dialogue.close();",
                            "v.battle = q.npc.start_battle(q.player);"
                        ]
                    },
                    {
                        "text": "Â§cğŸ’¨SPEEDğŸ’¨Â§r",
                        "value": "speed",
                        "action": [
                            "q.player.data.evstat = 'SPEED'; q.player.save_data();",
                            "q.dialogue.close();",
                            "v.battle = q.npc.start_battle(q.player);"
                        ]
                    },
                    {
                        "text": "Â§c<-Â§r",
                        "value": "back",
                        "action": "q.dialogue.set_page('ev_selection1');"
                    }
                ]
            }
        }
    ]
}